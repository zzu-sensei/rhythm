document.addEventListener('DOMContentLoaded', () => {
    
    // --- 1. 打字机效果 ---
    const titleElement = document.getElementById('typing-title');
    
    // 自动使用 "一高音游社"
    const titleText = "一高音游社 - Flow with the Beat_"; 
    
    let charIndex = 0;

    function typeEffect() {
        // 确保元素存在
        if (!titleElement) {
            console.error('打字机效果失败: 找不到 "typing-title" 元素。');
            return;
        }

        if (charIndex < titleText.length) {
            if (titleText.charAt(charIndex) === '_') {
                titleElement.innerHTML = titleElement.innerHTML.replace('<span class="cursor">_</span>', '');
                titleElement.innerHTML += '<span class="cursor">_</span>';
            } else {
                titleElement.innerHTML = titleElement.innerHTML.replace('<span class="cursor">_</span>', '');
                titleElement.innerHTML += titleText.charAt(charIndex);
                titleElement.innerHTML += '<span class="cursor">_</span>';
            }
            charIndex++;
            setTimeout(typeEffect, 150); // 打字速度
        }
    }

    // 动态添加光标闪烁的CSS
    const style = document.createElement('style');
    style.innerHTML = `
        .cursor {
            color: var(--primary-color); /* 光标使用主色调 */
            animation: blink 0.7s infinite;
        }
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
    `;
    document.head.appendChild(style);

    // 启动打字效果
    typeEffect();
});